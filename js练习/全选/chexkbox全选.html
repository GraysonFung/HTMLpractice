<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>全选</title>
<script>
window.onload = function(){
	var aInput = document.getElementsByTagName('input');
	var oInput = aInput[0];
	var a = 0;
	var b = 0;
	aInput[0].onclick = function(){
		for (var i = 0; i < aInput.length; i++) {
			if(aInput[0].checked == true){
				aInput[i].checked = true;
			}else{
				aInput[i].checked = false;
			}
		}
	};
	for (var i = 1; i < aInput.length; i++) {
		aInput[i].onclick = function(){
			a = 0;
			b = 0;
			for (var i = 1; i < aInput.length; i++) {
				if (aInput[i].checked == false) {
					a++;
				}
				if (aInput[i].checked == true) {
					b++;
				}
			}
			// alert(a)
			if(a>0){
				oInput.checked = false;
			};
			if(b==aInput.length-1){
				oInput.checked = true;
			};
		};
	}
};
</script>
</head>
<body>
<p><input type="checkbox" name="" />全选</p>
<input type="checkbox" name="" /><br />
<input type="checkbox" name="" /><br />
<input type="checkbox" name="" /><br />
<input type="checkbox" name="" /><br />
<input type="checkbox" name="" /><br />
<input type="checkbox" name="" /><br />
<input type="checkbox" name="" /><br />
<input type="checkbox" name="" /><br />
<input type="checkbox" name="" /><br />
<input type="checkbox" name="" /><br />
<input type="checkbox" name="" /><br />
</body>
</html>